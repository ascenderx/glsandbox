#ifndef UTIL_INPUT_H
#define UTIL_INPUT_H

/****************************************************************************
 * 
 ****************************************************************************/
#include <GLFW/glfw3.h>

/****************************************************************************
 * 
 ****************************************************************************/
#include "utiltypes.h"

/****************************************************************************
 * 
 ****************************************************************************/
#define __UTIL_MAX_KEYS__ 350
uint utilKeys[__UTIL_MAX_KEYS__];

/****************************************************************************
 * 
 ****************************************************************************/
void __utilKeyFunc__(GLFWwindow * window, int key, int scancode, int action, int mods);

/****************************************************************************
 * 
 ****************************************************************************/
boolean utilIsKeyDown(uint key);

/****************************************************************************
 * 
 ****************************************************************************/
struct Point2f utilMouse;

/****************************************************************************
 * 
 ****************************************************************************/
void __utilMouseFunc__(GLFWwindow * window, double xpos, double ypos);

/****************************************************************************
 * 
 ****************************************************************************/
boolean __utilCursorVisible__;
void __utilShowHideCursor__(boolean visible);

/****************************************************************************
 * 
 ****************************************************************************/
void utilSetCursorVisible(boolean visible);

/****************************************************************************
 * 
 ****************************************************************************/
uint utilMouseButtons[GLFW_MOUSE_BUTTON_LAST];

/****************************************************************************
 * 
 ****************************************************************************/
void __utilMouseButtonFunc__(GLFWwindow * window, int button, int action, int mods);

/****************************************************************************
 * 
 ****************************************************************************/
struct Joystick {
    boolean available;
    char * name;
    uchar * buttons;
    float * axes;
    uint numButtons;
    uint numAxes;
    float * __deadZones__;
};

/****************************************************************************
 * 
 ****************************************************************************/
struct Joystick utilJoysticks[GLFW_JOYSTICK_LAST];

/****************************************************************************
 * 
 ****************************************************************************/
void __utilJoyConnectFunc__(int joy, int event);

/****************************************************************************
 * 
 ****************************************************************************/
#define UTIL_AXIS_X 0
#define UTIL_AXIS_Y 1
float __utilGetAxis__(uint joy, uint stick, boolean xory);

/****************************************************************************
 * 
 ****************************************************************************/
float utilGetAxisX(uint joy, uint stick);

/****************************************************************************
 * 
 ****************************************************************************/
float utilGetAxisY(uint joy, uint stick);

/****************************************************************************
 * 
 ****************************************************************************/
void __utilSetDeadZone__(uint joy, uint stick, boolean xory, float deadZone);

/****************************************************************************
 * 
 ****************************************************************************/
void utilSetDeadZoneX(uint joy, uint stick, float deadZone);

/****************************************************************************
 * 
 ****************************************************************************/
void utilSetDeadZoneY(uint joy, uint stick, float deadZone);

/****************************************************************************
 * 
 ****************************************************************************/
void utilInitInputHandlers(void);

/****************************************************************************
 * 
 ****************************************************************************/
void utilUpdateInputHandlers(void);

/****************************************************************************
 * 
 ****************************************************************************/
void utilReleaseInputHandlers(void);

#endif // UTIL_INPUT_H
